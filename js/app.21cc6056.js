(function(e){function t(t){for(var n,a,r=t[0],c=t[1],u=t[2],h=0,d=[];h<r.length;h++)a=r[h],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],n=!0,r=1;r<s.length;r++){var c=s[r];0!==i[c]&&(n=!1)}n&&(o.splice(t--,1),e=a(a.s=s[0]))}return e}var n={},i={app:0},o=[];function a(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=n,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/jk/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var l=c;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"00a1":function(e,t,s){},"034f":function(e,t,s){"use strict";s("85ec")},"0431":function(e,t,s){},"11b7":function(e,t,s){"use strict";s("e80c")},"13ce":function(e,t,s){},"199c":function(e,t){},"23be":function(e,t,s){"use strict";var n=s("199c"),i=s.n(n);t["default"]=i.a},"26bc":function(e,t,s){"use strict";s("9864")},"2a05":function(e,t,s){},"39bf":function(e,t,s){"use strict";s("0431")},"3dfd":function(e,t,s){"use strict";var n=s("8596"),i=s("23be"),o=(s("034f"),s("60e1"),s("2877")),a=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,"2e847811",null);t["default"]=a.exports},4315:function(e,t,s){"use strict";s("13ce")},4627:function(e,t,s){},"47df":function(e,t,s){},"560f":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),i=s("3dfd"),o=s("2f62"),a={change:!1,user:{userCode:"-1",userName:"访客"},ext:{bg:{bgImgShowType:"lasted",bgImg:[],bgColor:"white"},cardTransparency:"2",searchEngineList:[],index:[],logo:{logoShowType:"none",url:""}}},r={show:!1,componentName:"",title:"",data:{}},c={show:!1,content:""},u={show:!1},l=!1,h=!1,d={openUserInfo:a,popConfig:r,tipsConfig:c,loadingConfig:u,searchFixShow:l,editIndexShow:h},f={openUserInfo:function(e){return e.openUserInfo},popConfig:function(e){return e.popConfig},tipsConfig:function(e){return e.tipsConfig},loadingConfig:function(e){return e.loadingConfig},searchFixShow:function(e){return e.searchFixShow},editIndexShow:function(e){return e.editIndexShow}},p={},g=(s("d3b7"),s("4d63"),s("ac1f"),s("25f0"),s("5319"),{uOpenUserInfo:function(e,t){function s(e){var t=Object.prototype.toString.call(e);return"[object Object]"==t}function n(e){var t=Object.prototype.toString.call(e);return"[object Array]"==t}console.log("uOpenUserInfo before:",JSON.parse(JSON.stringify(e.openUserInfo))),t.change=!e.openUserInfo.change,s(t.user)||(t.user={userCode:"-1",userName:"访客"}),s(t.ext)||(t.ext={bg:{bgImgShowType:"lasted",bgImg:[],bgColor:"white"},cardTransparency:"2",searchEngineList:[],index:[],logo:{logoShowType:"none",url:""}}),s(t.ext.bg)||(t.ext.bg={bgImgShowType:"lasted",bgImg:[],bgColor:"white"}),n(t.ext.bg.bgImg)||(t.ext.bg.bgImg=[]),n(t.ext.searchEngineList)||(t.ext.searchEngineList=[]),n(t.ext.index)||(t.ext.index=[]),s(t.ext.logo)||(t.ext.logo={logoShowType:"none",url:""});var i=t,o=JSON.stringify(i).replace(new RegExp("myindex.top","gm"),"ystel.cn");t=JSON.parse(o),e.openUserInfo=t,console.log("uOpenUserInfo after:",JSON.parse(JSON.stringify(e.openUserInfo))),localStorage&&localStorage.setItem("openUserInfo",JSON.stringify(e.openUserInfo))},uPopConfig:function(e,t){console.log("uPopConfig:",t),e.popConfig=t},uSearchFixShow:function(e,t){e.searchFixShow=t},uTipsConfig:function(e,t){console.log("uTipsConfig:",t),e.tipsConfig=t},uLoadingConfig:function(e,t){console.log("uLoadingConfig:",t),e.loadingConfig=t},uEditIndexShow:function(e,t){console.log("editIndexShow:",t),e.editIndexShow=t}});n["a"].use(o["a"]);var m=new o["a"].Store({state:d,getters:f,actions:p,mutations:g}),v=m,w=s("8c4f"),y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("SearchBox"),s("Index"),s("Set")],1)},U=[],S=(s("c975"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"module-searchBox"},[s("div",{ref:"searchFix",staticClass:"search-fix"}),s("div",{staticClass:"logo animated fadeInDown"},[s("img",{directives:[{name:"show",rawName:"v-show",value:"url"==e.logoShowType&&""!==e.url,expression:"logoShowType == 'url' && url !== ''"}],attrs:{src:e.url},on:{click:function(t){return e.Utils.refresh()}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:"time"==e.logoShowType,expression:"logoShowType == 'time'"}],on:{click:function(t){return e.Utils.refresh()}}},[e._v(e._s(e.time))]),s("Weather",{directives:[{name:"show",rawName:"v-show",value:"weather"==e.logoShowType,expression:"logoShowType == 'weather'"}],staticClass:"weather"})],1),s("div",{ref:"searchForm",staticClass:"card form ",attrs:{id:"search-form"}},[s("div",{ref:"formLeft",staticClass:"form-left"},[s("div",{staticClass:"show-engine",on:{click:function(t){e.searchEngineShow=!e.searchEngineShow,e.isNeedShowSug=!1}}},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.searchEngineList.length>0,expression:"searchEngineList.length > 0"}],staticClass:"searchIcon animated fadeInLeft",attrs:{src:e.searchEngineList.length>0?e.searchEngineList[e.searchEngineIndex].icon:""}}),s("i",{directives:[{name:"show",rawName:"v-show",value:e.searchEngineList.length>0,expression:"searchEngineList.length > 0"}],staticClass:"animated fadeInLeft",class:e.searchEngineShow?"fa fa-angle-up":"fa fa-angle-down",staticStyle:{"font-size":"15px"}})]),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.searchEngineShow,expression:"searchEngineShow"}]},e._l(e.searchEngineList,(function(t,n){return s("li",{key:n,attrs:{value:t.url},on:{click:function(t){return e.setSearchEngine(n)}}},[s("img",{staticClass:"searchIcon",attrs:{src:t.icon}}),s("span",[e._v(e._s(t.name))])])})),0)]),s("div",{staticClass:"form-center"},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchKey,expression:"searchKey"}],ref:"searchInput",attrs:{type:"text",spellcheck:"false",id:"searchInput"},domProps:{value:e.searchKey},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search()},focus:e.inputFocus,blur:e.inputBlur,input:function(t){t.target.composing||(e.searchKey=t.target.value)}}})])]),s("div",{staticClass:"form-right",on:{mousedown:function(t){return e.ulMousedown(t)}}},[s("i",{ref:"clear",staticClass:"fas fa-times",on:{click:function(t){e.searchKey=""}}}),s("i",{staticClass:"fa fa-search",on:{click:function(t){return e.search()}}})]),s("div",{staticStyle:{clear:"both"}}),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.suggestionShow,expression:"suggestionShow"}],staticClass:"suggestion",on:{mousedown:function(t){return e.ulMousedown(t)}}},[e._l(e.suggestion,(function(t,n){return s("li",{key:t.uuid,attrs:{index:n}},[s("div",{staticClass:"sug-item",on:{click:function(s){return e.sugClick(t.orgSug,!0)}}},[s("span",{domProps:{innerHTML:e._s(t.sug)}})]),s("div",{on:{click:function(s){return e.sugClick(t.orgSug,!1)}}},[s("i",{staticClass:"fa fa-pencil-alt",attrs:{"aria-hidden":"true"}})])])})),s("li",{directives:[{name:"show",rawName:"v-show",value:""===e.searchKey,expression:"searchKey === ''"}],staticClass:"clear-search-his",on:{click:function(t){return e.clearSearchHis()}}},[e._m(0)])],2)])])}),I=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("i",{staticClass:"fas fa-trash-alt",staticStyle:{"font-size":"15px"},attrs:{"aria-hidden":"true"}}),s("span",[e._v("清空")])])}],b=(s("99af"),s("a434"),s("841c"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),x=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{attrs:{id:"he-plugin-simple"}})])}],C={name:"Weather",created:function(){window.WIDGET={CONFIG:{modules:"01234",background:5,tmpColor:"4A4A4A",tmpSize:"30",cityColor:"4A4A4A",citySize:"30",aqiSize:"30",weatherIconSize:"45",alertIconSize:"31",padding:"0px 0px 0px 0px",shadow:"0",language:"auto",borderRadius:5,fixed:"false",vertical:"middle",horizontal:"center",key:"a57958f86f70480d988820933f1d0f87"}};var e=document.createElement("script");e.src="https://widget.heweather.net/simple/static/js/he-simple-common.js?v=1.1";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}},k=C,_=s("2877"),O=Object(_["a"])(k,b,x,!1,null,"0ac5de76",null),N=O.exports,E={name:"SearchBox",props:{},components:{Weather:N},data:function(){return{searchengIsLeave:!0,searchFocus:!1,yiyan:{},yiyanStr:"",logoShowType:"none",url:"",time:"",enterClass:"animated fadeInUp faster",leaveClass:"animated fadeOutDown faster",suggestion:[],searchHistory:[],searchHistoryOrg:[],isPhone:!1,searchEngineList:[],searchEngineShow:!1,searchEngineIndex:0,searchKey:"",isNeedShowSug:!1}},computed:{openUserInfo:function(){return JSON.parse(JSON.stringify(this.$store.getters.openUserInfo))},suggestionShow:function(){return this.searchengIsLeave&&this.isNeedShowSug&&this.suggestion.length>0}},watch:{openUserInfo:{handler:function(){this.logoShowType=this.openUserInfo.ext.logo.logoShowType,this.url=this.openUserInfo.ext.logo.url,this.searchEngineList=this.openUserInfo.ext.searchEngineList.concat(),console.log("SearchBox getSearchEngine from openUserInfo, ",this.searchEngineList);for(var e=0;e<this.searchEngineList.length;e++){var t=this.searchEngineList[e].isDefault;if(t){this.searchEngineIndex=e;break}}},deep:!0},searchKey:function(){this.isNeedShowSug&&this.getSug();var e=this.$refs.clear.style;""!==this.searchKey?e.visibility="unset":e.visibility="hidden"},searchFocus:function(){if(this.Utils.isPhone()){var e=this.$refs.searchForm.style;this.searchFocus?e.transform="translateY(-400%)":e.transform="unset"}var t=this.$refs.searchFix.style;this.searchFocus?t.height="100%":t.height="0"}},created:function(){},mounted:function(){var e=this;this.getSearchHis(),this.getYiyan(),setInterval((function(){var t=new Date,s=t.getHours()>9?t.getHours():"0"+t.getHours(),n=t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes();e.time=s+":"+n}),1e3)},methods:{ulMousedown:function(e){var t=e.target;t&&t.preventDefault?t.preventDefault():window.event.returnValue=!1},clearSearchHis:function(){this.searchHistory=[],this.searchHistoryOrg=[],localStorage.removeItem("searchHistory"),this.suggestion=[]},getSug:function(){var e=this;if(""===this.searchKey){this.suggestion=[];for(var t=0;t<this.searchHistory.length;t++)this.suggestion.push({uuid:this.Utils.generateUUID(),sug:this.searchHistory[t].word,orgSug:this.searchHistory[t].word})}else{var s="https://suggestion.baidu.com/su?callback=sug&wd="+this.searchKey+"&cb=sug&_="+(new Date).getTime();window.sug=function(t){if(e.suggestion=[],t&&t.s&&t.s.length>0)for(var s=t.s,n=s.length>6?6:s.length,i=0;i<n;i++)e.suggestion.push({uuid:e.Utils.generateUUID(),sug:s[i].replace(e.searchKey,"<b>"+e.searchKey+"</b>"),orgSug:s[i]})};var n=document.createElement("script");n.type="text/javascript",n.src="".concat(s,"&callback=sug"),document.getElementsByTagName("head")[0].appendChild(n),setTimeout((function(){n.remove()}),500)}},getSearchHis:function(){localStorage.getItem("searchHistory")&&(this.searchHistoryOrg=JSON.parse(localStorage.getItem("searchHistory")),this.searchHistoryOrg.length>0&&(this.searchHistory=[].concat(this.searchHistoryOrg.reverse())))},sugClick:function(e,t){t?(this.searchKey=e,this.search()):(this.isNeedShowSug=!0,this.searchKey=e)},inputFocus:function(){this.searchFocus=!0,this.searchEngineShow=!1,this.isNeedShowSug=!0,this.getSug()},inputBlur:function(){this.searchFocus=!1,this.searchEngineShow=!1,this.isNeedShowSug=!1,setTimeout((function(){}),300)},setSearchEngine:function(e){this.searchEngineIndex=e;for(var t=0;t<this.searchEngineList.length;t++)this.searchEngineList[t].isDefault=!1;this.searchEngineList[e].isDefault=!0,this.openUserInfo.ext.searchEngineList=this.searchEngineList,this.$store.commit("uOpenUserInfo",this.openUserInfo),this.searchEngineShow=!1},search:function(){if(this.searchEngineShow=!1,this.isNeedShowSug=!1,this.$refs.searchInput.blur(),this.Utils.go2Link(this.searchEngineList[this.searchEngineIndex].url.replace("%s",this.searchKey)),""!==this.searchKey){for(var e=!0,t=0;t<this.searchHistoryOrg.length;t++)if(this.searchKey===this.searchHistoryOrg[t].word){e=!1;break}if(e){this.searchHistoryOrg.length>5&&this.searchHistoryOrg.splice(0,1),this.searchHistoryOrg.push({uuid:this.Utils.generateUUID(),word:this.searchKey}),localStorage.setItem("searchHistory",JSON.stringify(this.searchHistoryOrg)),this.searchHistory=[];for(var s=this.searchHistoryOrg.length-1;s>=0;s--)this.searchHistory.push(this.searchHistoryOrg[s])}}this.searchKey=""},getYiyan:function(){var e=this,t="https://v1.hitokoto.cn";this.Utils.getJson(t,{}).then((function(t){t&&""!==t.hitokoto&&(e.yiyan=t,e.yiyanStr=t.hitokoto+"  from~ "+t.from,document.title=document.title+"-"+e.yiyanStr)}))}}},$=E,L=(s("60aa"),Object(_["a"])($,S,I,!1,null,"7a528e20",null)),T=L.exports,P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"module-box"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.editIndexShow,expression:"editIndexShow"}],staticClass:"tips"},[s("div",[s("span",[e._v("点击编辑，拖动排序")]),s("btn",{nativeOn:{click:function(t){return e.indexClick(-1)}}},[s("i",{staticClass:"fas fa-plus",staticStyle:{color:"var(--white)"},attrs:{"aria-hidden":"true"}}),e._v(" 添加 ")]),s("btn",{nativeOn:{click:function(t){return e.$store.commit("uEditIndexShow",!1)}}},[e._v("退出编辑")])],1)]),s("div",[s("draggable",e._b({staticClass:"module-items",on:{end:e.merge},model:{value:e.indexList,callback:function(t){e.indexList=t},expression:"indexList"}},"draggable",e.options,!1),e._l(e.indexList,(function(t,n){return s("div",{key:t.uuid,class:e.editIndexShow?"item item-edit":"item",attrs:{index:n},on:{click:function(t){return e.indexClick(n)}}},[s("div",[s("img",{staticClass:"animated fadeIn",attrs:{src:t.icon}})]),s("div",{staticClass:"card name"},[s("span",[e._v(e._s(t.name))])])])})),0)],1),s("pop",{attrs:{show:e.popShow,"style-set":{top:"20%",maxWidth:"800px"}},on:{close:function(t){e.popShow=!1}},scopedSlots:e._u([{key:"header",fn:function(){return[s("div",[e._v("编辑导航")])]},proxy:!0},{key:"main",fn:function(){return[s("div",{staticClass:"rows"},[s("div",{staticClass:"row1"},[s("label",[e._v("导航链接")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editUrl,expression:"editUrl"}],attrs:{spellcheck:"false"},domProps:{value:e.editUrl},on:{input:function(t){t.target.composing||(e.editUrl=t.target.value)}}}),s("btn",{nativeOn:{click:function(t){return e.getInfo(t)}}},[e._v("抓取信息")])],1),s("div",{staticClass:"row2"},[s("label",[e._v("导航名称")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editName,expression:"editName"}],attrs:{spellcheck:"false"},domProps:{value:e.editName},on:{input:function(t){t.target.composing||(e.editName=t.target.value)}}})]),s("div",{staticClass:"row3"},[s("label",[e._v("导航图标")]),s("div",{staticClass:"img",on:{click:function(t){return e.$refs.upload.click()}}},[s("i",{directives:[{name:"show",rawName:"v-show",value:!e.hasIcon,expression:"!hasIcon"}],staticClass:"fas fa-plus",staticStyle:{"font-size":"20px"},attrs:{"aria-hidden":"true"}}),s("img",{directives:[{name:"show",rawName:"v-show",value:e.hasIcon,expression:"hasIcon"}],attrs:{src:e.editIcon}})]),s("div",[e._v(" 点击左侧图标可以更换，"),s("a",{staticStyle:{"text-decoration":"underline",color:"#0f88eb"},attrs:{href:"https://www.iconfont.cn/",target:"_blank"}},[e._v("搜索图标")])])])]),s("div",{staticClass:"btn-group"},[s("btn",{nativeOn:{click:function(t){return e.saveIndex(t)}}},[e._v("保存")]),s("btn",{directives:[{name:"show",rawName:"v-show",value:-1!==e.activeIndex,expression:"activeIndex !== -1"}],attrs:{warning:""},nativeOn:{click:function(t){return e.delIndex(t)}}},[e._v("删除")])],1)]},proxy:!0}])}),s("upload",{ref:"upload",on:{upLoadSuccess:function(t){e.editIcon=t}}})],1)},j=[],J=(s("b0c0"),s("1276"),{name:"Index",data:function(){return{indexList:[],activeIndex:-1,popShow:!1,iconUrl:"",editItemData:{},editUrl:"",editName:"",editIcon:"",options:{delayOnTouchOnly:!0,delay:500,touchStartThreshold:3,animation:500}}},computed:{openUserInfo:function(){return JSON.parse(JSON.stringify(this.$store.getters.openUserInfo))},editIndexShow:function(){return this.$store.getters.editIndexShow},hasIcon:function(){return this.editIcon&&""!==this.editIcon}},watch:{openUserInfo:{handler:function(){this.indexList=[].concat(this.openUserInfo.ext.index)},deep:!0}},created:function(){},mounted:function(){},methods:{merge:function(){this.openUserInfo.ext.index=this.indexList,this.$store.commit("uOpenUserInfo",this.openUserInfo)},saveIndex:function(){this.editUrl&&""!==this.editUrl&&this.editUrl.indexOf("http")<0?this.$toast.warning("导航链接需要包含http"):(-1===this.activeIndex?this.indexList.push({url:this.editUrl,name:this.editName,icon:this.editIcon}):this.indexList[this.activeIndex]={url:this.editUrl,name:this.editName,icon:this.editIcon},this.merge(),this.popShow=!1,this.$toast.success("保存成功"))},delIndex:function(){confirm("确认删除吗")&&(this.indexList.splice(this.activeIndex,1),this.merge(),this.popShow=!1,this.$toast.success("删除成功"))},getInfo:function(){var e=this;if(!this.editUrl||""===this.editUrl||this.editUrl.indexOf("http")<0)this.$toast.warning("导航链接需要包含http");else{var t=this.Utils.basicUrl()+"/common/v1/getWebTitle";this.Utils.postJson(t,this.Utils.getCommonReq(this.editUrl)).then((function(t){if(t&&"0"===t.code){var s=t.data;s&&!0===s.success?e.editName=s.title:e.$toast.error("获取失败")}else e.$toast.error(t.message)}));var s=this.editUrl.split("/");if(s.length>2){var n=s[0]+"//"+s[2].split(":")[0]+"/favicon.ico";this.editIcon=n}else this.$toast.error("获取失败")}},indexClick:function(e){if(this.editIndexShow)if(this.popShow=!0,this.activeIndex=e,-1===e)this.editUrl="",this.editName="",this.editIcon="";else{var t=this.Utils.convert(this.indexList)[e];this.editUrl=t.url,this.editName=t.name,this.editIcon=t.icon}else this.Utils.go2Link(this.indexList[e].url)}}}),D=J,B=(s("8c06"),Object(_["a"])(D,P,j,!1,null,"0328ea40",null)),R=B.exports,W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"set animated fadeInDown"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"card up animated fadeInUp",on:{click:function(t){e.show=!0,e.Utils.closePop()}}},[s("i",{staticClass:"fa fa-angle-up"})]),s("pop",{attrs:{show:e.popConfig.show,"style-set":{top:"10%",maxWidth:"800px"}},on:{close:function(t){return e.Utils.closePop()}},scopedSlots:e._u([{key:"header",fn:function(){return[s("div",[e._v(e._s(e.popConfig.title))])]},proxy:!0},{key:"main",fn:function(){return["StyleSet"===e.popConfig.componentName?s("StyleSet"):e._e(),"User"===e.popConfig.componentName?s("User"):e._e(),"SearchEngineSet"===e.popConfig.componentName?s("SearchEngineSet"):e._e(),"LogoSet"===e.popConfig.componentName?s("LogoSet"):e._e()]},proxy:!0}])}),s("transition",{attrs:{"enter-active-class":"animated fadeInUp faster","leave-active-class":"animated fadeOutDown faster"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"card menu"},[s("div",{staticClass:"items"},[s("div",{on:{click:function(t){return e.uPopConfig("LogoSet","Logo设置")}}},[s("i",{staticClass:"far fa-lightbulb animated tada",attrs:{"aria-hidden":"true"}}),s("span",[e._v("Logo")])]),s("div",{on:{click:e.editIndex}},[s("i",{staticClass:"far fa-bookmark animated tada",attrs:{"aria-hidden":"true"}}),s("span",[e._v("导航")])]),s("div",{on:{click:function(t){return e.uPopConfig("SearchEngineSet","搜索引擎设置")}}},[s("i",{staticClass:"far fa-edit animated tada",attrs:{"aria-hidden":"true"}}),s("span",[e._v("搜索")])]),s("div",{on:{click:function(t){return e.uPopConfig("StyleSet","主题设置")}}},[s("i",{staticClass:"far fa-images animated tada"}),s("span",[e._v("主题")])]),s("div",{on:{click:function(t){return e.uPopConfig("User","用户设置")}}},[s("i",{staticClass:"far fa-user animated tada"}),s("span",[e._v("用户")])]),s("div",{on:{click:function(t){e.show=!1}}},[s("i",{staticClass:"fa fa-angle-down animated tada"})])])])])],1)},q=[],F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{},[s("div",{staticClass:"top"},[s("div",{staticClass:"item"},[s("span",[e._v("面板透明度：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.cardTransparency,expression:"cardTransparency"}],attrs:{type:"range",min:"0",max:"10"},domProps:{value:e.cardTransparency},on:{__r:function(t){e.cardTransparency=t.target.value}}}),s("span",[e._v(e._s(e.cardTransparency))]),s("span",[e._v("tips:数值越大，越透明")])]),s("nav",e._l(e.navList,(function(t,n){return s("a",{key:n,staticClass:"nav-item",class:{"active-bottom":n===e.activeTabIndex},on:{click:function(t){return e.changeTab(n)}}},[s("i",{class:["fas","fa-"+t.guideIcon],attrs:{"aria-hidden":"true"}}),s("span",[e._v(e._s(t.guideName))])])})),0)]),s("div",{staticClass:"show-item"},[s("div",{directives:[{name:"show",rawName:"v-show",value:0===e.activeTabIndex,expression:"activeTabIndex === 0"}],staticClass:"biying"},[s("div",[e._l(e.bgImgShowTypes,(function(t,n){return s("a",{key:"biying"+n},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.bgImgShowType,expression:"bgImgShowType"}],attrs:{type:"radio",id:"radio"+n,name:"bgImgShowType"},domProps:{value:t.code,checked:e._q(e.bgImgShowType,t.code)},on:{change:function(s){e.bgImgShowType=t.code}}}),s("label",{attrs:{for:"radio"+n,title:t.desc}},[e._v(e._s(t.name))])])})),s("span",[e._v("tips:以下图片来自必应，每日更新一张")])],2),s("div",[s("transition-group",{staticClass:"biyings",attrs:{"enter-active-class":"animated fadeInUp","leave-active-class":"animated fadeOut"}},e._l(e.showList,(function(t,n){return s("a",{key:t.codeValue,staticClass:"biyings-item enlargeAnimation",style:{backgroundSize:"100% 100%",backgroundRepeat:"no-repeat",backgroundImage:"url("+t.codeValue+")"},attrs:{target:t.codeValue||"_blank"},on:{click:function(t){return e.setBgImg(n)}}})})),0)],1),s("a",{directives:[{name:"show",rawName:"v-show",value:e.pageInfo.hasNextPage,expression:"pageInfo.hasNextPage"}],staticClass:"more",on:{click:function(t){return e.more()}}},[e._m(0)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:1===e.activeTabIndex,expression:"activeTabIndex === 1"}]},[s("transition-group",{staticClass:"purecolor",attrs:{"enter-active-class":"animated fadeInUp","leave-active-class":"animated fadeOut"}},e._l(e.pureColorList,(function(t,n){return s("div",{key:t.codeName,staticClass:"purecolor-item",attrs:{index:n}},[s("span",{staticClass:"purecolor-item-title"},[e._v(" "+e._s(t.codeName)+" ")]),s("div",{staticClass:"purecolor-item-colors"},e._l(JSON.parse(t.bigData||[]),(function(t,n){return s("div",{key:n.guideName,staticClass:"enlargeAnimation",style:{backgroundColor:t.guideName},on:{click:function(s){return e.setBgColor(t.guideName)}}},[e._v(" "+e._s(t.guideName)+" ")])})),0)])})),0)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:2===e.activeTabIndex,expression:"activeTabIndex === 2"}],staticClass:"user-cust-bg"},[s("div",{staticClass:"img",on:{click:function(t){return e.$refs.upload.click()}}},[s("i",{staticClass:"fas fa-plus",attrs:{"aria-hidden":"true"}})]),s("upload",{ref:"upload",on:{upLoadSuccess:e.upLoadSuccess}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:3===e.activeTabIndex,expression:"activeTabIndex === 3"}],staticClass:"user-cust-url-bg"},[e._m(1),s("transition-group",{attrs:{"enter-active-class":"animated fadeInUp","leave-active-class":"animated fadeOutLeft faster"}},e._l(e.bgImgList,(function(t,n){return s("div",{key:t.uuid,staticClass:"row"},[s("div",[s("input",{attrs:{type:"checkbox",index:n,id:"cu-item-"+n},domProps:{checked:t.checked,value:t.checked},on:{click:function(s){return e.bgImgClick(t,n)}}})]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"item.name"}],attrs:{spellcheck:"false",placeholder:"名称"},domProps:{value:t.name},on:{input:function(s){s.target.composing||e.$set(t,"name",s.target.value)}}})]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"item.url"}],staticClass:"url",attrs:{spellcheck:"false",placeholder:"链接"},domProps:{value:t.url},on:{input:function(s){s.target.composing||e.$set(t,"url",s.target.value)}}})]),s("div",{on:{click:function(t){return e.delBgImgUrl(n)}}},[s("i",{staticClass:"fa fa-trash-alt",attrs:{"aria-hidden":"true"}})])])})),0),s("div",{staticClass:"btn-group"},[s("btn",{nativeOn:{click:function(t){return e.addBgImgUrl()}}},[e._v("新增一个")]),s("btn",{nativeOn:{click:function(t){return e.saveBgImgUrl()}}},[e._v("保存")]),s("btn",{attrs:{warning:""},nativeOn:{click:function(t){return e.resetBgImgUrl()}}},[e._v("恢复默认")])],1)],1)])])},H=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[s("i",{staticClass:"fas fa-angle-down",attrs:{"aria-hidden":"true"}}),e._v(" 加载更多")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"animated fadeInRight faster"},[s("div",{staticClass:"tips"},[s("span",[e._v("1.可以多选")]),s("span",[e._v("2.每次刷新页面会从选中的链接中随机获取一个")]),s("span",[e._v("3.你也可以自己设置壁纸的链接哦")])])])}],M={name:"Style",props:{show:Boolean},data:function(){return{cardTransparency:"0",activeTabIndex:-1,navList:[{guideName:"图片背景"},{guideName:"纯色背景"},{guideName:"自定义背景"},{guideName:"自由设置背景链接"}],showList:[],bgImgShowType:"",bgImgShowTypes:[{code:"lasted",name:"每日最新",desc:"每日获取最新的图片当作背景"},{code:"random",name:"随机背景",desc:"每次刷新页面从以下图片中随机抽取一张当作背景"},{code:"none",name:"无背景",desc:""}],pureColorList:[],shareBgImg:"",pageInfo:{},bgImgUrlDefault:[{name:"自适应大小壁纸",url:"https://api.btstu.cn/sjbz/zsy.php"},{name:"随机-手机",url:"https://picsum.photos/1080/1920"},{name:"随机-PC",url:"https://picsum.photos/1920/1080"},{name:"动漫图片-PC",url:"https://api.btstu.cn/sjbz/?lx=dongman"},{name:"美女图片-PC",url:"https://api.btstu.cn/sjbz/?lx=meizi"},{name:"美女图片-PC",url:"https://api.btstu.cn/sjbz/?lx=suiji"},{name:"动漫图片-手机",url:"https://api.btstu.cn/sjbz/?lx=m_dongman"},{name:"美女图片-手机",url:"https://api.btstu.cn/sjbz/?lx=m_meizi"},{name:"风景-PC",url:"https://api.qqsuu.cn/api/img"},{name:"动漫-PC",url:"https://api.ixiaowai.cn/api/api.php"},{name:"mc酱动漫-PC",url:"https://api.ixiaowai.cn/mcapi/mcapi.php"},{name:"随机-PC",url:"https://api.ixiaowai.cn/gqapi/gqapi.php"}],bgImgList:[],checkedUUIDList:[],custBgImg:""}},computed:{openUserInfo:function(){return JSON.parse(JSON.stringify(this.$store.getters.openUserInfo))}},watch:{cardTransparency:function(e){this.setCardTransparency(e)},activeTabIndex:function(e){0===e?this.getByImg(1):1===e&&this.getPureColorList()},openUserInfo:{handler:function(){this.uStyle()},deep:!0},bgImgShowType:function(){this.setBgImgShowType()}},mounted:function(){for(var e=0;e<this.bgImgUrlDefault.length;e++){var t=this.Utils.generateUUID();this.bgImgUrlDefault[e].uuid=t,this.bgImgUrlDefault[e].checked=!1}this.activeTabIndex=0,this.uStyle()},methods:{uStyle:function(){this.bgImgShowType=this.openUserInfo.ext.bg.bgImgShowType,this.cardTransparency=this.openUserInfo.ext.cardTransparency,this.openUserInfo.ext.bg.bgImg.length<1?this.bgImgList=[].concat(this.bgImgUrlDefault):this.bgImgList=[].concat(this.openUserInfo.ext.bg.bgImg)},changeTab:function(e){this.activeTabIndex=e},getByImg:function(e){var t=this,s=this.Utils.basicUrl()+"/common/v1/getOpenStaticData",n={codeType:"BY_IMG"};n=this.Utils.getCommonReq(n),n.pageFlag=!0,n.pageNum=e,n.pageSize=12,n.orderBy="SORT DESC",this.Utils.postJson(s,n).then((function(s){if(s&&"0"===s.code){if(1==e&&(t.showList=[]),t.Utils.isPhone())for(var n=0;n<s.data.list.length;n++){var i=s.data.list[n];i.codeValue=i.codeValue.replace("1920x1080","1080x1920")}t.showList=t.showList.concat(s.data.list),t.pageInfo=s.data}else t.$toast.error(s.message)}))},more:function(){var e=this.pageInfo.hasNextPage;if(e){var t=this.pageInfo.nextPage;this.getByImg(t)}else this.$toast.warning("没有更多了")},getPureColorList:function(){var e=this,t=this.Utils.basicUrl()+"/common/v1/getOpenStaticData",s={codeType:"PURE_COLORS"};s=this.Utils.getCommonReq(s),s.pageFlag=!1,this.Utils.postJson(t,s).then((function(t){t&&"0"===t.code?e.pureColorList=t.data.list:e.$toast.error(t.message)}))},setCardTransparency:function(e){this.openUserInfo.ext.cardTransparency=e,this.$store.commit("uOpenUserInfo",this.openUserInfo)},setBgImgShowType:function(){this.openUserInfo.ext.bg.bgImgShowType!==this.bgImgShowType&&(this.openUserInfo.ext.bg.bgImgShowType=this.bgImgShowType,this.$store.commit("uOpenUserInfo",this.openUserInfo))},setBgImg:function(e){this.openUserInfo.ext.bg.bgImgShowType="url";for(var t=[],s=0;s<this.bgImgList.length;s++)this.bgImgList[s].one||(this.bgImgList[s].checked=!1,t.push(this.bgImgList[s]));t.push({url:this.showList[e].codeValue,name:"必应壁纸",uuid:this.Utils.generateUUID(),checked:!0,one:!0}),this.openUserInfo.ext.bg.bgImg=t,this.$store.commit("uOpenUserInfo",this.openUserInfo)},setBgColor:function(e){this.openUserInfo.ext.bg.bgImgShowType="color",this.openUserInfo.ext.bg.bgColor=e,this.$store.commit("uOpenUserInfo",this.openUserInfo)},addBgImgUrl:function(){this.bgImgList.push({url:"",name:"",uuid:this.Utils.generateUUID()}),this.$nextTick((function(){var e=document.querySelector(".user-cust-url-bg .btn-group button:last-child");e.scrollIntoView()}))},saveBgImgUrl:function(){this.openUserInfo.ext.bg.bgImgShowType="url";for(var e=0;e<this.bgImgList.length;e++){var t=this.bgImgList[e];if(""==t.name||""==t.url)return void this.$toast.warning("名称和链接不能为空")}this.openUserInfo.ext.bg.bgImg=[].concat(this.bgImgList),this.$store.commit("uOpenUserInfo",this.openUserInfo),this.$toast.success("保存成功")},bgImgClick:function(e,t){e.checked=!e.checked,this.$set(this.bgImgList,t,e)},delBgImgUrl:function(e){this.bgImgList.splice(e,1)},resetBgImgUrl:function(){this.bgImgList=[].concat(this.bgImgUrlDefault),this.openUserInfo.ext.bg.bgImg=[].concat(this.bgImgList),this.$store.commit("uOpenUserInfo",this.openUserInfo),this.$toast.success("保存成功")},upLoadSuccess:function(e){this.openUserInfo.ext.bg.bgImgShowType="url";for(var t=[],s=0;s<this.bgImgList.length;s++)this.bgImgList[s].one||(this.bgImgList[s].checked=!1,t.push(this.bgImgList[s]));t.push({url:e,name:"自定义背景",uuid:this.Utils.generateUUID(),checked:!0,one:!0}),this.openUserInfo.ext.bg.bgImg=t,this.$store.commit("uOpenUserInfo",this.openUserInfo),this.$toast.success("保存成功")}}},V=M,z=(s("985d"),Object(_["a"])(V,F,H,!1,null,"1a9b8615",null)),A=z.exports,K=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"module"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.loginShow,expression:"loginShow"}],staticClass:"login"},[s("div",{staticClass:"row"},[e._m(0),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.userName,expression:"user.userName"}],attrs:{spellcheck:"false",placeholder:"请输入登陆账号"},domProps:{value:e.user.userName},on:{change:function(t){return e.checkUserExist(1)},input:function(t){t.target.composing||e.$set(e.user,"userName",t.target.value)}}})])]),s("div",{staticClass:"row"},[e._m(1),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.passWord,expression:"user.passWord"}],attrs:{spellcheck:"false",type:"password",placeholder:"请输入密码"},domProps:{value:e.user.passWord},on:{input:function(t){t.target.composing||e.$set(e.user,"passWord",t.target.value)}}})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showRegist,expression:"showRegist"}],staticClass:"row animated fadeInUp"},[e._m(2),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.passWord2,expression:"user.passWord2"}],attrs:{spellcheck:"false",type:"password",placeholder:"请再次输入密码"},domProps:{value:e.user.passWord2},on:{input:function(t){t.target.composing||e.$set(e.user,"passWord2",t.target.value)}}})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showRegist,expression:"showRegist"}],staticClass:"row animated fadeInUp"},[e._m(3),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{spellcheck:"false",placeholder:"请输入邮箱"},domProps:{value:e.user.email},on:{change:function(t){return e.checkUserExist(2)},input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showRegist,expression:"showRegist"}],staticClass:"row verifyCode animated fadeInUp"},[e._m(4),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.verifyCode,expression:"user.verifyCode"}],attrs:{spellcheck:"false",placeholder:"请输入验证码"},domProps:{value:e.user.verifyCode},on:{input:function(t){t.target.composing||e.$set(e.user,"verifyCode",t.target.value)}}})]),s("div",[s("btn",{nativeOn:{click:function(t){return e.sendEmail(t)}}},[e._v("发 送")])],1)]),s("div",{staticClass:"btn-group"},[s("btn",{directives:[{name:"show",rawName:"v-show",value:!e.showRegist,expression:"!showRegist"}],nativeOn:{click:function(t){return e.login(t)}}},[e._v("登 陆")]),s("btn",{attrs:{id:"registUser",warning:""},nativeOn:{click:function(t){return e.registUser(t)}}},[e._v("注 册")])],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.loginShow&&!e.modifyUserPwd&&!e.updateUser&&!e.deleteUser,expression:"!loginShow && !modifyUserPwd && !updateUser && !deleteUser"}],staticClass:"info"},[s("div",{staticClass:"user-info"},[s("span",[e._v(e._s(e.openUserInfo.user.userName)+" 你好")])]),s("div",{staticClass:"user-info-detail"},[s("div",[s("label",[e._v("注册时间 : ")]),s("span",[e._v(e._s(e.openUserInfo.user.createDate))])]),s("div",{staticClass:"operation"},[s("btn",{nativeOn:{click:function(t){return e.logout(t)}}},[e._v("登出")]),s("btn",{attrs:{warning:""},nativeOn:{click:function(t){return e.showMdPwd(t)}}},[e._v("修改密码")]),s("btn",{attrs:{info:""},nativeOn:{click:function(t){return e.showMdUserInfo(t)}}},[e._v("修改用户信息")]),s("btn",{attrs:{danger:""},nativeOn:{click:function(t){return e.showDeleteUser(t)}}},[e._v("注销用户")])],1)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.modifyUserPwd||e.updateUser||e.deleteUser,expression:"modifyUserPwd || updateUser || deleteUser"}],staticClass:"login"},[s("div",{staticClass:"row animated fadeInUp"},[e._m(5),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{spellcheck:"false",placeholder:"请输入邮箱",readonly:e.emailReadonly},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})])]),s("div",{staticClass:"row verifyCode animated fadeInUp"},[e._m(6),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.verifyCode,expression:"user.verifyCode"}],attrs:{spellcheck:"false",placeholder:"请输入验证码"},domProps:{value:e.user.verifyCode},on:{input:function(t){t.target.composing||e.$set(e.user,"verifyCode",t.target.value)}}})]),s("div",[s("btn",{nativeOn:{click:function(t){return e.sendEmail(t)}}},[e._v("发 送")])],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.modifyUserPwd,expression:"modifyUserPwd"}],staticClass:"row animated fadeInUp"},[e._m(7),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.passWord,expression:"user.passWord"}],attrs:{spellcheck:"false",type:"password",placeholder:"请输入密码"},domProps:{value:e.user.passWord},on:{input:function(t){t.target.composing||e.$set(e.user,"passWord",t.target.value)}}})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.modifyUserPwd,expression:"modifyUserPwd"}],staticClass:"row animated fadeInUp"},[e._m(8),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.passWord2,expression:"user.passWord2"}],attrs:{spellcheck:"false",type:"password",placeholder:"请再次输入密码"},domProps:{value:e.user.passWord2},on:{input:function(t){t.target.composing||e.$set(e.user,"passWord2",t.target.value)}}})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.updateUser,expression:"updateUser"}],staticClass:"row"},[e._m(9),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.userName,expression:"user.userName"}],attrs:{spellcheck:"false",placeholder:"请输入登陆账号"},domProps:{value:e.user.userName},on:{input:function(t){t.target.composing||e.$set(e.user,"userName",t.target.value)}}})])]),s("div",{staticClass:"btn-group"},[s("btn",{attrs:{warning:e.modifyUserPwd,info:e.updateUser,danger:e.deleteUser},nativeOn:{click:function(t){return e.submitAction(t)}}},[e._v(" "+e._s(e.modifyUserPwd?"修改密码":e.updateUser?"修改用户信息":e.deleteUser?"注销":"")+" ")])],1)]),s("div",{staticClass:"tips animated fadeInUp"},[s("span",[e._v("提示：")]),s("span",{directives:[{name:"show",rawName:"v-show",value:e.loginShow,expression:"loginShow"}]},[e._v("忘记密码？"),s("a",{staticStyle:{color:"#0f88eb"},on:{click:e.showMdPwd}},[e._v("点此重置")])]),s("span",[e._v("1.如遇部分问题可以点击 "),s("a",{staticStyle:{color:"#0f88eb"},attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.clearLocalStorage()}}},[e._v("强制清理缓存")])]),s("span",[e._v("2.没有账号可以先点击注册")]),s("span",[e._v("3.登陆账号后，可以同步你的自定义数据哦")]),s("span",[e._v("4.邮箱也可以用来登陆")]),e._m(10)])])},G=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",[e._v("登陆账号")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",[e._v("密码")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",[e._v("确认密码")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",[e._v("邮箱")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",[e._v("验证码")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",[e._v("邮箱")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",[e._v("验证码")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",[e._v("密码")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",[e._v("确认密码")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",[e._v("登陆账号")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",[e._v("5."),s("a",{staticStyle:{color:"#0f88eb"},attrs:{href:"https://support.qq.com/products/170200"}},[e._v("关于&反馈")])])}],Y={name:"User",components:{},data:function(){return{loginShow:!0,user:{userName:"",passWord:"",passWord2:"",email:"",verifyCode:"",birthday:"",nickName:""},showUserInfo:{},showRegist:!1,modifyUserPwd:!1,updateUser:!1,deleteUser:!1,emailReadonly:!0}},computed:{openUserInfo:function(){return JSON.parse(JSON.stringify(this.$store.getters.openUserInfo))}},watch:{openUserInfo:{handler:function(){this.init()},deep:!0}},mounted:function(){this.init()},methods:{submitAction:function(){this.modifyUserPwd?this.modifyUserPwdMethod():this.updateUser?this.updateUserMethod():this.deleteUser&&this.deleteUserMethod()},deleteUserMethod:function(){var e=this;if(""!=this.user.email&&""!=this.user.verifyCode){var t=window.confirm("确认注销吗？");if(t){var s=this.Utils.basicUrl()+"/user/v1/deleteUser",n={userCode:this.openUserInfo.user.userCode,verifyCode:this.user.verifyCode};this.Utils.postJson(s,this.Utils.getCommonReq(n)).then((function(t){t&&"0"===t.code?(e.$toast.success("注销成功"),setTimeout((function(){e.Utils.clearLocalStorage()}),1e3)):e.$toast.error(t.message)}))}}else this.$toast.warning("请先填写信息后再提交")},showDeleteUser:function(){this.deleteUser=!0,this.modifyUserPwd=!1,this.updateUser=!1,this.loginShow=!1,this.showRegist=!1,this.user.email=this.openUserInfo.user.email},updateUserMethod:function(){var e=this;if(""!=this.user.userName&&""!=this.user.email&&""!=this.user.verifyCode)if(this.user.passWord===this.user.passWord2){var t=this.Utils.basicUrl()+"/user/v1/updateUser",s={userCode:this.openUserInfo.user.userCode,userName:this.user.userName,verifyCode:this.user.verifyCode};this.Utils.postJson(t,this.Utils.getCommonReq(s)).then((function(t){t&&"0"===t.code?(e.$toast.success("修改成功，请重新登陆"),setTimeout((function(){e.Utils.clearLocalStorage()}),1e3)):e.$toast.error(t.message)}))}else this.$toast.warning("两次填写的密码不一致");else this.$toast.warning("请先填写信息后再提交")},showMdUserInfo:function(){this.updateUser=!0,this.modifyUserPwd=!1,this.deleteUser=!1,this.loginShow=!1,this.showRegist=!1,this.user.email=this.openUserInfo.user.email,this.user.userName=""},modifyUserPwdMethod:function(){var e=this;if(""!=this.user.passWord&&""!=this.user.email&&""!=this.user.verifyCode)if(this.user.passWord===this.user.passWord2){var t=this.Utils.basicUrl()+"/user/v1/modifyUserPwd",s={userCode:this.openUserInfo.user.userCode,email:this.user.email,passWord:this.user.passWord,verifyCode:this.user.verifyCode};this.Utils.postJson(t,this.Utils.getCommonReq(s)).then((function(t){t&&"0"===t.code?(e.$toast.success("修改成功，请重新登陆"),setTimeout((function(){e.Utils.clearLocalStorage()}),500)):e.$toast.error(t.message)}))}else this.$toast.warning("两次填写的密码不一致");else this.$toast.warning("请先填写信息后再提交")},showMdPwd:function(){this.modifyUserPwd=!0,this.updateUser=!1,this.deleteUser=!1,this.loginShow=!1,this.showRegist=!1,this.user.email=this.openUserInfo.user.email,this.user.email&&""!==this.user.email||(this.emailReadonly=!1),this.user.passWord="",this.user.passWord2=""},registUser:function(){var e=this;if(this.showRegist){if(""==this.user.userName||""==this.user.passWord||""==this.user.email||""==this.user.verifyCode)return void this.$toast.warning("请先填写信息后再提交");if(this.user.passWord!==this.user.passWord2)return void this.$toast.warning("两次填写的密码不一致");var t=this.Utils.basicUrl()+"/user/v1/registUser",s={userName:this.user.userName,passWord:this.user.passWord,email:this.user.email,verifyCode:this.user.verifyCode};this.Utils.postJson(t,this.Utils.getCommonReq(s)).then((function(t){t&&"0"===t.code?(e.$toast.success("注册成功，请登陆"),e.showRegist=!1):e.$toast.error(t.message)}))}else this.showRegist=!0},checkUserExist:function(e){var t=this;if(this.showRegist){var s="";1===e&&(s=this.user.userName),2===e&&(s=this.user.email);var n=this.Utils.basicUrl()+"/user/v1/checkUserExist",i={userName:s};this.Utils.postJson(n,this.Utils.getCommonReq(i)).then((function(e){e&&"0"===e.code||t.$toast.error(e.message)}))}},sendEmail:function(){var e=this,t=this.user.email;if(t&&""!==t){var s=this.Utils.basicUrl()+"/user/v1/sendEMail",n={email:t};this.Utils.postJson(s,this.Utils.getCommonReq(n)).then((function(t){t&&"0"===t.code?e.$toast.success("邮件发送成功，请查收邮件！"):e.$toast.error("邮件发送失败！")}))}else this.$toast.warning("邮箱地址不能为空")},login:function(){var e=this;if(""!==this.user.userName&&""!==this.user.passWord){var t=this.Utils.basicUrl()+"/user/v1/loginUser",s={userName:this.user.userName,passWord:this.user.passWord};this.Utils.postJson(t,this.Utils.getCommonReq(s)).then((function(s){if(s&&"0"===s.code){e.loginShow=!1;var n=s.data;t=e.Utils.basicUrl()+"/user/v1/getUserExtInfo";var i={userCode:n.userCode};e.Utils.postJson(t,e.Utils.getCommonReq(i)).then((function(t){var s=e.openUserInfo.ext;null!=t.data&&null!=t.data.userSet&&""!=t.data.userSet&&t.data.userSet!={}&&JSON.parse(t.data.userSet).searchEngineList&&JSON.parse(t.data.userSet).searchEngineList.length>0&&(s=JSON.parse(t.data.userSet)),e.openUserInfo.user=n,e.openUserInfo.ext=s,e.$store.commit("uOpenUserInfo",e.openUserInfo),t&&"0"===t.code||e.$toast.error("获取用户设置失败")}))}else e.$toast.error("登陆失败, 请核对账号密码")}))}else this.$toast.warning("请输入账号和密码")},logout:function(){confirm("确认登出吗？")&&this.Utils.clearLocalStorage()},clearLocalStorage:function(){confirm("确认清理缓存吗？清理后需要重新登陆哦")&&this.Utils.clearLocalStorage()},save:function(e){var t=this,s=JSON.parse(this.showUserInfo);if(s.user=this.openUserInfo.user,this.$store.commit("uOpenUserInfo",s),1===e)this.$toast.success("保存到本地成功");else if(2===e)this.Utils.saveUserInfoExt();else if(3===e){var n=window.prompt("输入当前登陆用户的密码，清空本地和服务器个性化设置信息");if(!n||""===n)return void this.$toast.warning("密码不能为空");var i="/common-server/user/api/v1/delUserInfoExt",o={param:{userId:this.openUserInfo.user.id,passwd:n}};this.Utils.postJson(i,o).then((function(e){if(e&&"0"===e.code){t.$toast.success("删除成功，即将刷新页面...");var s=t;setTimeout((function(){s.clearLocalStorage()}),1e3)}else t.$toast.error(e.message)}))}},init:function(){var e=this.openUserInfo.user;"-1"!==e.userCode&&(this.loginShow=!1);var t=JSON.parse(JSON.stringify(this.openUserInfo));delete t.user,this.showUserInfo=JSON.stringify(t,null,4)},submit:function(){alert(JSON.stringify(this.model))},reset:function(){this.$refs.JsonEditor.reset()}}},X=Y,Q=(s("91f5"),Object(_["a"])(X,K,G,!1,null,"27d1eb88",null)),Z=Q.exports,ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"module"},[s("upload",{ref:"upload",on:{upLoadSuccess:e.upLoadSuccess}}),e._m(0),s("div",{staticClass:"search-engine"},[s("draggable",{attrs:{options:e.options},model:{value:e.searchEngineList,callback:function(t){e.searchEngineList=t},expression:"searchEngineList"}},[s("transition-group",{attrs:{"enter-active-class":"animated fadeInUp","leave-active-class":"animated fadeOutLeft faster"}},e._l(e.searchEngineList,(function(t,n){return s("div",{key:t.uuid,staticClass:"row"},[s("div",{on:{click:function(t){return e.selectIcon(n)}}},[s("img",{staticClass:"enlargeAnimation",attrs:{src:t.icon}})]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"item.name"}],attrs:{spellcheck:"false",placeholder:"名称"},domProps:{value:t.name},on:{input:function(s){s.target.composing||e.$set(t,"name",s.target.value)}}})]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"item.url"}],staticClass:"url",attrs:{spellcheck:"false",placeholder:"地址(搜索的关键字用%s代替)"},domProps:{value:t.url},on:{input:function(s){s.target.composing||e.$set(t,"url",s.target.value)}}})]),s("div",[s("i",{staticClass:"fas fa-arrows-alt-v",attrs:{"aria-hidden":"true"}})]),s("div",{on:{click:function(t){return e.delSearchEngine(n)}}},[s("i",{staticClass:"fas fa-trash-alt",attrs:{"aria-hidden":"true"}})])])})),0)],1)],1),s("input",{ref:"selectEnIcon",staticStyle:{display:"none"},attrs:{type:"file",name:"file",id:"selectEnIcon",hidden:""},on:{change:function(t){return e.upLoadFile()}}}),s("div",{staticClass:"btn-group"},[s("btn",{nativeOn:{click:function(t){return e.addSearchEngine(t)}}},[e._v("新增一个")]),s("btn",{nativeOn:{click:function(t){return e.saveSearchEngine(t)}}},[e._v("保存")]),s("btn",{attrs:{warning:""},nativeOn:{click:function(t){return e.resetSearchEngine(t)}}},[e._v("恢复默认")])],1)],1)},te=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"animated fadeInUp"},[s("div",{staticClass:"tips"},[s("span",[e._v("1.点击图标可以更换")]),s("span",[e._v("2.搜索的关键字用%s代替")]),s("span",[e._v("3.按住 "),s("i",{staticClass:"fas fa-arrows-alt-v",staticStyle:{color:"red"},attrs:{"aria-hidden":"true"}}),e._v(" 1秒不放，可以拖动排序哦")])])])}],se={name:"Set",components:{},data:function(){return{searchEngineList:[],iconSelectShow:!1,index:-1,options:{delayOnTouchOnly:!0,direction:"vertical",delay:500,touchStartThreshold:3,dragClass:"drag",animation:500}}},computed:{openUserInfo:function(){return JSON.parse(JSON.stringify(this.$store.getters.openUserInfo))}},watch:{openUserInfo:{handler:function(){this.getSearchEngine()},deep:!0}},mounted:function(){this.getSearchEngine()},methods:{resetSearchEngine:function(){var e=this;this.Utils.getSearchEngine((function(t){e.searchEngineList=t,e.saveSearchEngine()}))},saveSearchEngine:function(){for(var e=0;e<this.searchEngineList.length;e++){var t=this.searchEngineList[e];if(!t.icon||""===t.icon)return void this.$toast.warning("请上传icon");if(!t.name||""===t.name)return void this.$toast.warning("请填写名称");if(!t.url||""===t.url)return void this.$toast.warning("请填写地址");if(t.url.indexOf("%s")<0)return void this.$toast.warning("搜索地址中必须含有%s")}this.openUserInfo.ext.searchEngineList=this.searchEngineList,this.$store.commit("uOpenUserInfo",this.openUserInfo),this.$toast.success("保存成功，即将刷新页面~~~"),setTimeout((function(){window.location.reload()}),1e3)},selectIcon:function(e){this.index=e,this.$refs.upload.click()},upLoadSuccess:function(e){this.searchEngineList[this.index].icon=e},addSearchEngine:function(){this.searchEngineList.push({url:"",name:"",icon:s("80f1"),uuid:this.Utils.generateUUID()}),this.$nextTick((function(){var e=document.querySelector(".search-engine .row:last-child");e.scrollIntoView()}))},delSearchEngine:function(e){1!=this.searchEngineList.length?this.searchEngineList.splice(e,1):this.$toast.warning("请至少保留一个")},getSearchEngine:function(){var e=this;this.searchEngineList=[].concat(JSON.parse(JSON.stringify(this.openUserInfo.ext.searchEngineList))),console.log("getSearchEngine",this.searchEngineList),this.searchEngineList.length>0||this.Utils.getSearchEngine((function(t){e.searchEngineList=t}))}}},ne=se,ie=(s("11b7"),Object(_["a"])(ne,ee,te,!1,null,"1f4d7015",null)),oe=ie.exports,ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"module"},[s("div",{staticClass:"tab"},e._l(e.logoShowTypes,(function(t,n){return s("div",{key:t.code,staticClass:"item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.logoShowType,expression:"logoShowType"}],attrs:{type:"radio",id:"radio"+n,name:"logoShowType"},domProps:{value:t.code,checked:e._q(e.logoShowType,t.code)},on:{change:function(s){e.logoShowType=t.code}}}),s("label",{attrs:{for:"radio"+n,title:t.desc}},[e._v(e._s(t.name))])])})),0),s("div",{staticClass:"row"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"url"===e.logoShowType,expression:"logoShowType === 'url'"}],staticClass:"img",on:{click:function(t){return e.$refs.upload.click()}}},[s("i",{directives:[{name:"show",rawName:"v-show",value:!e.url||""==e.url,expression:"!url || url == ''"}],staticClass:"fas fa-plus",attrs:{"aria-hidden":"true"}}),s("img",{directives:[{name:"show",rawName:"v-show",value:e.url&&""!==e.url,expression:"url && url !== ''"}],attrs:{src:e.url}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:"time"===e.logoShowType,expression:"logoShowType === 'time'"}],staticClass:"time"},[s("span",[e._v(e._s(e.time))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"weather"===e.logoShowType,expression:"logoShowType === 'weather'"}],staticClass:"weather"},[s("Weather")],1)]),s("upload",{ref:"upload",on:{upLoadSuccess:function(t){e.url=t}}}),s("div",{staticClass:"btn-group"},[s("btn",{attrs:{height:"40px"},nativeOn:{click:function(t){return e.save()}}},[e._v("保存")])],1)],1)},re=[],ce={name:"LogoSet",components:{Weather:N},data:function(){return{url:"",logoShowType:"",logoShowTypes:[{code:"none",name:"无Logo",desc:"不展示Logo"},{code:"url",name:"图片",desc:"自己上传一张图片，或者填入一个图片的链接"},{code:"time",name:"时间",desc:"每分钟更新"},{code:"weather",name:"天气",desc:"天气"}],time:""}},computed:{openUserInfo:function(){return JSON.parse(JSON.stringify(this.$store.getters.openUserInfo))}},watch:{openUserInfo:{handler:function(){this.init()},deep:!0}},mounted:function(){var e=this;this.init(),setInterval((function(){var t=new Date,s=t.getHours()>9?t.getHours():"0"+t.getHours(),n=t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes();e.time=s+":"+n}),1e3)},methods:{init:function(){this.logoShowType=this.openUserInfo.ext.logo.logoShowType,this.url=this.openUserInfo.ext.logo.url},save:function(){this.openUserInfo.ext.logo.logoShowType=this.logoShowType,"url"!=this.logoShowType||""!=this.url?(this.openUserInfo.ext.logo.url=this.url,this.$store.commit("uOpenUserInfo",this.openUserInfo),this.$toast.success("保存成功")):this.$toast.warning("请选择一个图片上传")}}},ue=ce,le=(s("decb"),Object(_["a"])(ue,ae,re,!1,null,"f40aa5d2",null)),he=le.exports,de={name:"Set",components:{StyleSet:A,User:Z,SearchEngineSet:oe,LogoSet:he},data:function(){return{dialogShow:!1,show:!1,iClass:"fa fa-angle-up"}},computed:{popConfig:function(){return this.$store.getters.popConfig}},watch:{show:function(){this.show?this.iClass="fa fa-angle-down":this.iClass="fa fa-angle-up"}},methods:{uPopConfig:function(e,t){this.show=!1;var s=!1;s=this.popConfig.componentName!==e||!this.popConfig.show,this.Utils.pop({show:s,title:t,componentName:e}),this.dialogShow=s},editIndex:function(){this.$store.commit("uEditIndexShow",!0),this.show=!1},scroll:function(){var e=document.documentElement.scrollTop;this.searchBoxShow=e>80}}},fe=de,pe=(s("26bc"),Object(_["a"])(fe,W,q,!1,null,"f7e15e96",null)),ge=pe.exports,me={name:"Home",components:{SearchBox:T,Index:R,Set:ge},data:function(){return{appStyle:{}}},computed:{popConfig:function(){return this.$store.getters.popConfig},openUserInfo:function(){return JSON.parse(JSON.stringify(JSON.parse(JSON.stringify(this.$store.getters.openUserInfo))))},searchFixShow:function(){return this.$store.getters.searchFixShow}},watch:{openUserInfo:{handler:function(e,t){var s=this,n=this.Utils.convert(e),i=n.user,o=n.ext;if(this.$nextTick((function(){s.Utils.uCardStyle(o.cardTransparency||"2");var e=o.bg.bgImgShowType||"lasted";s.getBgImg(e)})),i.userCode&&"-1"!==i.userCode){var a=this.Utils.convert(e),r=this.Utils.convert(t);delete a.change,delete r.change;var c=this.Utils.compreObj(a,r);if(c)return void console.log("用户信息实际未发生改变，不执行同步到服务器");console.log("同步用户设置数据, ",i.userCode);var u=this.Utils.basicUrl()+"/user/v1/setUserExtInfo",l={userCode:i.userCode,userSet:JSON.stringify(o),userSet1:"",userSet2:""};this.Utils.postJson(u,this.Utils.getCommonReq(l)).then((function(e){e&&"0"===e.code||console.error("同步用户配置数据失败")}))}},deep:!0},searchFixShow:function(){}},beforeCreate:function(){},created:function(){var e=this;this.Utils.setVue(this),window.document.addEventListener("resize",(function(){e.Utils.setBgImgSize()})),window.document.addEventListener("keyup",(function(t){27==t.keyCode&&(e.popConfig&&e.popConfig.show&&e.Utils.closePop(),e.searchFixShow&&e.$store.commit("uSearchFixShow",!1))})),window.addEventListener("popstate",(function(){(e.searchFixShow||e.popConfig&&e.popConfig.show)&&history.replaceState(null,document.title,location.origin+location.pathname),e.popConfig&&e.popConfig.show&&e.Utils.closePop(),e.searchFixShow&&e.$store.commit("uSearchFixShow",!1)}),!1)},mounted:function(){this.uOpenUserInfo()},methods:{uOpenUserInfo:function(){var e=this,t=this.Utils.getUserInfo();if(t)if(t.user&&(this.openUserInfo.user=t.user),this.openUserInfo.user.userCode&&"-1"!==this.openUserInfo.user.userCode){var s=this.Utils.basicUrl()+"/user/v1/getUserExtInfo",n={userCode:this.openUserInfo.user.userCode};this.Utils.postJson(s,this.Utils.getCommonReq(n)).then((function(t){null!=t.data&&null!=t.data.userSet&&""!=t.data.userSet&&t.data.userSet!={}&&JSON.parse(t.data.userSet).searchEngineList&&JSON.parse(t.data.userSet).searchEngineList.length>0?(e.openUserInfo.ext=JSON.parse(t.data.userSet),e.$store.commit("uOpenUserInfo",e.openUserInfo)):e.Utils.getSearchEngine((function(t){e.openUserInfo.ext.searchEngineList=t,e.$store.commit("uOpenUserInfo",e.openUserInfo)})),t&&"0"===t.code||console.error(t.message)}))}else!t.ext||!t.ext.searchEngineList||t.ext.searchEngineList.length<1?this.Utils.getSearchEngine((function(t){e.openUserInfo.ext.searchEngineList=t,e.$store.commit("uOpenUserInfo",e.openUserInfo)})):(this.openUserInfo.ext=t.ext,this.$store.commit("uOpenUserInfo",this.openUserInfo));else this.Utils.getSearchEngine((function(t){e.openUserInfo.ext.searchEngineList=t,e.$store.commit("uOpenUserInfo",e.openUserInfo)}))},getImageColor:function(e){var t=e.width,s=50,n=document.createElement("canvas");n.width=t,n.height=s;var i=n.getContext("2d");i.drawImage(e,0,0,t,s);for(var o=i.getImageData(0,0,t,s).data,a=1,r=1,c=1,u=0;u<s;u++)for(var l=0;l<t;l++)0==u?(a+=o[t*u+l],r+=o[t*u+l+1],c+=o[t*u+l+2]):(a+=o[4*(t*u+l)],r+=o[4*(t*u+l)+1],c+=o[4*(t*u+l)+2]);return a/=t*s,r/=t*s,c/=t*s,a=Math.round(a),r=Math.round(r),c=Math.round(c),n.remove(),console.log("rgb("+a+","+r+","+c+")"),"rgb("+a+","+r+","+c+")"},judgeNeedGetSearchEngine:function(e){var t=this,s=this.Utils.getUserInfo();if(s&&s.user&&(this.openUserInfo.user=s.user),s)if(s&&s.ext&&s.ext.searchEngineList&&!(s.ext.searchEngineList.length<1)){if(s&&s.user&&s.user.userCode&&"-1"!==s.user.userCode){var n=this.Utils.basicUrl()+"/user/v1/getUserExtInfo",i={userCode:this.openUserInfo.user.userCode};this.Utils.postJson(n,this.Utils.getCommonReq(i)).then((function(s){return s&&"0"===s.code?null!=s.data&&null!=s.data.userSet&&""!=s.data.userSet&&s.data.userSet!={}&&JSON.parse(s.data.userSet).searchEngineList&&JSON.parse(s.data.userSet).searchEngineList.length>0?(t.openUserInfo.ext=JSON.parse(s.data.userSet),t.$store.commit("uOpenUserInfo",t.openUserInfo),void e(!1,JSON.parse(s.data.userSet))):void e(!0):(console.error(s.message),void e(!0))}))}e(!0)}else e(!0);else e(!0)},getBgImg:function(e){for(var t=this.openUserInfo.ext.bg.bgImg,s=this.openUserInfo.ext.bg.bgColor,n="",i=[],o=0;o<t.length;o++)t[o].checked&&i.push(t[o]);if(i&&i.length>0){var a=i.length,r=parseInt(Math.random()*a);n=i[r].url,n.indexOf("cn.bing.com")>-1&&(n=this.Utils.isPhone()?n.replace("1920x1080","1080x1920"):n.replace("1080x1920","1920x1080"))}"url"===e?s="":"none"===e?(n="",s=""):"color"===e?n="":"lasted"===e?(n="https://www.ystel.cn/api/common/v1/getPicture/lastest/",this.Utils.isPhone()?n+="phone":n+="pc",s=""):"random"===e&&(n="https://www.ystel.cn/api/common/v1/getPicture/random/",this.Utils.isPhone()?n+="phone":n+="pc",s=""),this.appStyle={backgroundImage:"url("+n+")",backgroundColor:s};var c=document.querySelector("#app").style;c.backgroundImage="url("+n+")",c.backgroundColor=s,this.Utils.setBgImgSize()}}},ve=me,we=Object(_["a"])(ve,y,U,!1,null,null,null),ye=we.exports;n["a"].use(w["a"]);var Ue=w["a"].prototype.replace;w["a"].prototype.replace=function(e){return Ue.call(this,e).catch((function(e){return e}))};var Se=w["a"].prototype.push;w["a"].prototype.push=function(e){return Se.call(this,e).catch((function(e){return e}))};var Ie,be="/jk",xe=[{path:be,name:"home",component:ye}],Ce=new w["a"]({routes:xe,mode:"history"}),ke=Ce,_e=s("bc3a"),Oe=s.n(_e),Ne=(s("13d5"),s("b64b"),s("466d"),s("5cc6"),s("9a8c"),s("a975"),s("735e"),s("c1ac"),s("d139"),s("3a7b"),s("d5d6"),s("82f8"),s("e91f"),s("60bd"),s("5f96"),s("3280"),s("3fcc"),s("ca91"),s("25a1"),s("cd26"),s("3c5d"),s("2954"),s("649e"),s("219c"),s("170b"),s("b39a"),s("72f7"),s("d4ec")),Ee=s("bee2"),$e=function(){function e(){Object(Ne["a"])(this,e)}return Object(Ee["a"])(e,null,[{key:"setVue",value:function(e){this.Vue=e}},{key:"isNull",value:function(e){return null==e||0===e.length||""===e}},{key:"isIdCard",value:function(e){return/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/.test(e)}},{key:"isPhoneNum",value:function(e){return/^(0|86|17951)?(1[3-9][0-9])[0-9]{8}$/.test(e)}},{key:"postJson",value:function(e,t,s){var n=this,i={headers:{"Cache-Control":"no-cache"}};s&&(i=s);var o=this.Vue.$loading();return new Promise((function(s,a){window.console.info("req url, ",e,"\nreq param, ",t),n.Vue.axios.post(e,t,i).then((function(e){o.remove(),window.console.info("get resopnse sucess, ",e.data),s(e.data)})).catch((function(e){o.remove(),window.console.error("axios post error, ",e),a(e)}))}))}},{key:"getStream",value:function(e,t){var s=this;return new Promise((function(n,i){s.Vue.axios.get(e,{params:t,responseType:"arraybuffer"}).then((function(e){return"data:image/png;base64,"+btoa(new Uint8Array(e.data).reduce((function(e,t){return e+String.fromCharCode(t)}),""))})).then((function(e){n(e)})).catch((function(e){window.console.error("axios post error, ",e),i(e)}))}))}},{key:"getJson",value:function(e,t){var s=this,n=this.Vue.$loading();return new Promise((function(i,o){s.Vue.axios.get(e,{params:t}).then((function(e){n.remove(),i(e.data)})).catch((function(e){n.remove(),window.console.error("axios getJson error, ",e),o(e)}))}))}},{key:"setUserInfo",value:function(e){localStorage&&localStorage.setItem("openUserInfo",JSON.stringify(e))}},{key:"getUserInfo",value:function(){if(localStorage&&localStorage.getItem("openUserInfo"))return JSON.parse(localStorage.getItem("openUserInfo"))}},{key:"removeUserInfo",value:function(){localStorage&&localStorage.removeItem("openUserInfo"),window.location.reload()}},{key:"clearLocalStorage",value:function(){localStorage&&localStorage.clear(),window.location.reload()}},{key:"getReqParam",value:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),s=window.location.search.substr(1).match(t);return null!=s?unescape(s[2]):null}},{key:"getStaticData",value:function(t){var s={codeType:t},n="/common-server/user/api/v1/getStaticData";return new Promise((function(t,i){e.postJson(n,s).then((function(e){e&&"0"===e.code&&t(e.result)})).catch((function(e){i(e)}))}))}},{key:"getGuide",value:function(t){var s=!1;"GUIDE_PURE_COLORS"===t&&(s=!0);var n={param:{guideParentCode:t},pageFlag:!1,readRedis:!0,recursion:s},i="/common-server/guide/api/v1/getGuide";return new Promise((function(t,s){e.postJson(i,n).then((function(e){e&&"0"===e.code&&t(e.data.list)})).catch((function(e){s(e)}))}))}},{key:"getGuidePage",value:function(t,s,n){var i={param:{guideParentCode:t},pageFlag:!0,pageNum:s,pageSize:n},o="/common-server/guide/api/v1/getGuide";return new Promise((function(t,s){e.postJson(o,i).then((function(e){e&&"0"===e.code&&t(e.data)})).catch((function(e){s(e)}))}))}},{key:"convertToJson",value:function(t){for(var s=0;s<t.length;s++){var n=t[s].extInfo;n&&""!==n&&(t[s].extInfo=JSON.parse(n),e.convertToJson(n))}}},{key:"getGuideByParentCode",value:function(t,s){var n={guideParentCode:t};e.postJson("/common-server/guide/api/v1/getGuide",n,(function(e){s(e.result)}))}},{key:"getYYYYMMDD",value:function(){var e=new Date,t=e.getFullYear(),s=e.getMonth()>9?e.getMonth():"0"+e.getMonth(),n=e.getDate();return t+""+s+n}},{key:"generateUUID",value:function(){var e=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(e+=performance.now());var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var s=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?s:3&s|8).toString(16)}));return t}},{key:"scrollToNav",value:function(){var e=document.getElementById("scrollNav"),t=e.offsetTop-80;window.scrollTo({top:t,behavior:"smooth"})}},{key:"getActiveIndex",value:function(e){for(var t=0;t<e.length;t++)if(e[t].active)return t;return 0}},{key:"getActiveGuideCode",value:function(e){for(var t=0;t<e.length;t++)if(e[t].active)return e[t].guideCode;return""}},{key:"uCardStyle",value:function(e){for(var t=document.querySelectorAll(".card"),s=0;s<t.length;s++)t[s].style.backgroundColor="rgba(255, 255, 255, "+(1-e/10)+")"}},{key:"pop",value:function(e){this.Vue.$store.commit("uPopConfig",e)}},{key:"closePop",value:function(){this.Vue.$store.commit("uPopConfig",{show:!1})}},{key:"tips",value:function(e,t,s){this.Vue.$store.commit("uTipsConfig",{show:!0,title:e,content:t,msgType:s})}},{key:"successTips",value:function(e){this.Vue.$store.commit("uTipsConfig",{show:!0,title:"成功",content:e,msgType:"success"})}},{key:"warnTips",value:function(e){this.Vue.$store.commit("uTipsConfig",{show:!0,title:"警告",content:e,msgType:"warn"})}},{key:"errorTips",value:function(e){this.Vue.$store.commit("uTipsConfig",{show:!0,title:"失败",content:e,msgType:"error"})}},{key:"showLoading",value:function(){this.Vue.$store.commit("uLoadingConfig",{show:!0})}},{key:"hideLoading",value:function(){this.Vue.$store.commit("uLoadingConfig",{show:!1})}},{key:"saveUserInfoExt",value:function(){var e=this,t="/common-server/user/api/v1/saveUserInfoExt",s={param:{userId:this.Vue.$store.getters.openUserInfo.user.id,saveData:this.Vue.$store.getters.openUserInfo}};this.Vue.axios.post(t,s).then((function(t){var s=t.data;s&&"0"===s.code?e.successTips("同步成功"):e.errorTips("同步失败")})).catch((function(t){e.errorTips(t),window.console.error("axios post error, ",t)}))}},{key:"getCommonReq",value:function(e){return{appCode:"f0fb4bed6b664cfebbb30a688a4c8e3f",param:e}}},{key:"host",value:function(){return"https://www.ystel.cn/"}},{key:"basicUrl",value:function(){return"https://www.ystel.cn/api"}},{key:"isPhone",value:function(){var e=document.body.clientWidth;return!(e>600)}},{key:"getSearchEngine",value:function(e){var t=this,s=this.basicUrl()+"/common/v1/getOpenStaticData",n={codeType:"SEARCH_ENGINES"};n=this.getCommonReq(n),n.pageFlag=!1,this.postJson(s,n).then((function(s){if(s&&"0"===s.code){for(var n=[],i=0;i<s.data.list.length;i++){var o=s.data.list[i],a=t.generateUUID();n.push({url:o.codeValue,name:o.codeName,icon:o.bigData,uuid:a})}e(n)}else t.Vue.$toast.error(s.message)}))}},{key:"upLoadFile",value:function(e){var t=this;if(""!==e.value){var s=this.getCommonReq({}).appCode,n=new FormData;n.append("appCode",s),n.append("file",e.files[0]);var i={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=(e.loaded/e.total*100|0)+"%";console.log(t)}};return new Promise((function(s,o){t.postJson("https://www.ystel.cn/api/common/v1/upload",n,i).then((function(n){n&&"0"===n.code?(s(n.data),e.value=""):t.Vue.$toast.error(n.message)})).catch((function(e){o(e)}))}))}}},{key:"isType",value:function(e){var t=Object.prototype.toString.call(e);return"[object Array]"==t?"Array":"[object Object]"==t?"Object":"param is no object type"}},{key:"isObject",value:function(e){var t=Object.prototype.toString.call(e);return"[object Object]"==t}},{key:"isArray",value:function(e){var t=Object.prototype.toString.call(e);return"[object Array]"==t}},{key:"isString",value:function(e){var t=Object.prototype.toString.call(e);return"[object String]"==t}},{key:"isNumber",value:function(e){var t=Object.prototype.toString.call(e);return"[object Number]"==t}},{key:"isBoolean",value:function(e){var t=Object.prototype.toString.call(e);return"[object Boolean]"==t}},{key:"isUndefined",value:function(e){var t=Object.prototype.toString.call(e);return"[object Undefined]"==t}},{key:"isDate",value:function(e){var t=Object.prototype.toString.call(e);return"[object Date]"==t}},{key:"go2Link",value:function(e,t){var s=document.createElement("a");s.href=e,t&&(s.target=t),s.click(),s.remove()}},{key:"scrollToTop",value:function(){window.scrollTo({top:0,behavior:"smooth"})}},{key:"go2Router",value:function(e){this.Vue.$router.push({name:e})}},{key:"convert",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"refresh",value:function(){window.location.reload()}},{key:"compreObj",value:function(e,t){if(this.isUndefined(e)&&!this.isUndefined(t)||this.isObject(e)&&!this.isObject(t)||this.isArray(e)&&!this.isArray(t)||this.isString(e)&&!this.isString(t)||this.isNumber(e)&&!this.isNumber(t)||this.isBoolean(e)&&!this.isBoolean(t)||this.isDate(e)&&!this.isDate(t))return console.log("compreObj:类型不一致"),!1;if(this.isUndefined(e))return!0;var s=!0;if(this.isObject(e)){if(Object.keys(e).length!==Object.keys(t).length)return console.log("compreObj:对象key的个数不一致"),!1;for(var n in e){if(!Object.prototype.hasOwnProperty.call(t,n))return console.log("compreObj:对应的key没有"),!1;if(s=this.compreObj(e[n],t[n]),!s)return s}}else if(this.isArray(e)){if(e.length!==t.length)return console.log("compreObj:数组长度不一致"),!1;for(var i in e)if(s=this.compreObj(e[i],t[i]),!s)return s}else if(e!==t)return console.log("compreObj:值不相等"),!1;return s}},{key:"setBgImgSize",value:function(){var e=document.querySelector("#app").style,t=e.backgroundImage;if(t&&""!==t){var s=new Image;s.src=t.replace('url("',"").replace('")',""),s.onload=function(){var t,n=document.documentElement.clientWidth,i=document.documentElement.clientHeight,o=n/i,a=s.width,r=s.height,c=a/r;t=o>c?n+"px "+n/c+"px":i*c+"px "+i+"px",e.backgroundSize=t}}}}]),e}(),Le=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tips-module"},[s("transition-group",{attrs:{"enter-active-class":"animated fadeInDown faster","leave-active-class":"animated fadeOut faster",tag:"div"}},e._l(e.toasts,(function(t,n){return s("div",{key:t.uuid,staticClass:"toast",attrs:{index:n,isSetAutoDel:t.isSetAutoDel}},[s("div",{staticClass:"tips-content",style:t.tipsContentStyle},[s("span",{staticClass:"status"},[s("i",{class:t.iClass,style:t.iStyle})]),s("span",{staticClass:"txt"},[e._v(e._s(t.text))]),s("span",{staticClass:"close",on:{click:function(s){return e.del(t.uuid)}}},[s("i",{staticClass:"fas fa-times"})])])])})),0)],1)},Te=[],Pe=(s("fda1"),{}),je=Object(_["a"])(Pe,Le,Te,!1,null,"ba1aacf8",null),Je=je.exports,De=n["a"].extend(Je);function Be(){Ie=new De({el:document.createElement("div"),data:function(){return{list:[]}},computed:{toasts:function(){return[].concat(this.list).reverse()}},watch:{list:{handler:function(){for(var e=this,t=function(t){var s=e.list[t];s.tipsContentStyle={},s.iStyle={},1===s.status?(s.iClass="fas fa-exclamation",s.tipsContentStyle.backgroundColor="var(--success)"):2===s.status?(s.iClass="fas fa-exclamation",s.tipsContentStyle.backgroundColor="var(--secondary)"):3===s.status?(s.iClass="fas fa-check",s.tipsContentStyle.backgroundColor="var(--success)"):4===s.status?(s.iClass="fas fa-exclamation",s.tipsContentStyle.backgroundColor="var(--info)"):5===s.status?(s.iClass="fas fa-exclamation",s.tipsContentStyle.backgroundColor="var(--warning)"):6===s.status&&(s.iClass="fas fa-exclamation",s.tipsContentStyle.backgroundColor="var(--danger)"),s.iStyle.color=s.tipsContentStyle.backgroundColor,s.isSetAutoDel||setTimeout((function(){e.del(s.uuid)}),s.duration),s.isSetAutoDel=!0},s=0;s<this.list.length;s++)t(s)},deep:!0}},mounted:function(){},methods:{add:function(e){this.list.push(e)},del:function(e){for(var t,s=0;s<this.list.length;s++)if(this.list[s].uuid===e){t=s;break}this.list.splice(t,1)}}}),document.body.appendChild(Ie.$el)}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;Ie.add({uuid:$e.generateUUID(),text:e,status:1,duration:t})}function We(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;Ie.add({uuid:$e.generateUUID(),text:e,status:3,duration:t})}function qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;Ie.add({uuid:$e.generateUUID(),text:e,status:4,duration:t})}function Fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;Ie.add({uuid:$e.generateUUID(),text:e,status:6,duration:t})}function He(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;Ie.add({uuid:$e.generateUUID(),text:e,status:5,duration:t})}function Me(){Be(),n["a"].prototype.$toast=Re,n["a"].prototype.$toast.info=qe,n["a"].prototype.$toast.success=We,n["a"].prototype.$toast.error=Fe,n["a"].prototype.$toast.warning=He}var Ve=Me,ze=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ae=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tips-module"},[s("div",{staticClass:"tips-content"},[s("i",{staticClass:"fa fa-spinner fa-spin fa-3x fa-fw",staticStyle:{"font-size":"30px"}}),s("span",{staticClass:"sr-only"},[e._v("Loading...")])])])}],Ke=(s("39bf"),{}),Ge=Object(_["a"])(Ke,ze,Ae,!1,null,"2f6c6f23",null),Ye=Ge.exports,Xe=n["a"].extend(Ye);function Qe(e){var t=new Xe({el:document.createElement("div"),data:function(){return{text:e}}});return document.body.appendChild(t.$el),t.$el}function Ze(){n["a"].prototype.$loading=Qe}var et=Ze,tt=s("b76a"),st=s.n(tt),nt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("input",{ref:"selectFile",attrs:{type:"file",name:"file"},on:{change:function(t){return e.upLoadFile()}}})])},it=[],ot={name:"upload",components:{},props:{},data:function(){return{}},computed:{},watch:{},mounted:function(){},methods:{click:function(){this.$refs.selectFile.click()},upLoadFile:function(){var e=this;this.Utils.upLoadFile(this.$refs.selectFile).then((function(t){e.$emit("upLoadSuccess",t)}))}}},at=ot,rt=(s("f237"),Object(_["a"])(at,nt,it,!1,null,"9691b414",null)),ct=rt.exports,ut=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{"enter-active-class":"animated fadeInUp faster","leave-active-class":"animated fadeOutDown faster"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"dialog-module"},[s("div",{staticClass:"popcommon-module",style:e.styleSet},[s("div",{staticClass:"popcommon-content"},[s("header",[e._t("header",[e._v("弹窗标题")]),s("div",{attrs:{name:"dialog-close"},on:{click:function(t){return e.close()}}},[s("i",{staticClass:"fas fa-times",attrs:{"aria-hidden":"true"}})])],2),s("section",[e._t("main",[e._v("弹窗内容")])],2)])])])])},lt=[],ht={name:"pop",components:{},props:{show:{type:Boolean,default:!1,required:!0},maxWidth:{type:String,default:"800px"},maxHeight:{type:String,default:"auto"},styleSet:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{},watch:{show:function(){this.show?document.querySelector("#search-form").style.zIndex="0":document.querySelector("#search-form").style.zIndex="10"}},mounted:function(){},methods:{close:function(){this.$emit("close")}}},dt=ht,ft=(s("5acf"),Object(_["a"])(dt,ut,lt,!1,null,"876d42c0",null)),pt=ft.exports,gt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("button",{ref:"btn",on:{click:function(t){return e.btnClick()}}},[s("span",[e._t("default")],2)])])},mt=[],vt=s("5530"),wt={name:"btn",props:{height:{type:String,default:"100%",required:!1},primary:{type:Boolean,default:!0,required:!1},secondary:{type:Boolean,default:!1,required:!1},success:{type:Boolean,default:!1,required:!1},info:{type:Boolean,default:!1,required:!1},warning:{type:Boolean,default:!1,required:!1},danger:{type:Boolean,default:!1,required:!1}},data:function(){return{}},computed:{watchData:function(){return Object(vt["a"])({},this.$props)}},watch:{watchData:function(){this.init()}},created:function(){},mounted:function(){this.init()},methods:{init:function(){var e=this.$refs.btn,t="";this.primary&&(t="var(--primary)"),this.secondary&&(t="var(--secondary)"),this.success&&(t="var(--success)"),this.info&&(t="var(--info)"),this.warning&&(t="var(--warning)"),this.danger&&(t="var(--danger)"),e.style.backgroundColor=t,e.style.height=this.height},btnClick:function(){}}},yt=wt,Ut=(s("4315"),Object(_["a"])(yt,gt,mt,!1,null,"53063ba8",null)),St=Ut.exports,It={install:function(e){e.component("draggable",st.a),e.component("upload",ct),e.component("pop",pt),e.component("btn",St)}};n["a"].use(Ve),n["a"].use(et),n["a"].use(ke),n["a"].use(It),n["a"].config.productionTip=!1,n["a"].prototype.Utils=$e,n["a"].prototype.axios=Oe.a,new n["a"]({store:v,router:ke,render:function(e){return e(i["default"])}}).$mount("#app")},"5acf":function(e,t,s){"use strict";s("560f")},"60aa":function(e,t,s){"use strict";s("4627")},"60e1":function(e,t,s){"use strict";s("00a1")},"6adc":function(e,t,s){},"80f1":function(e,t,s){e.exports=s.p+"img/default-icon.bf7f9209.png"},8596:function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},i=[]},"85ec":function(e,t,s){},"8c06":function(e,t,s){"use strict";s("c2aa")},"91f5":function(e,t,s){"use strict";s("2a05")},"985d":function(e,t,s){"use strict";s("47df")},9864:function(e,t,s){},bd24:function(e,t,s){},c2aa:function(e,t,s){},d773:function(e,t,s){},decb:function(e,t,s){"use strict";s("bd24")},e80c:function(e,t,s){},f237:function(e,t,s){"use strict";s("d773")},fda1:function(e,t,s){"use strict";s("6adc")}});